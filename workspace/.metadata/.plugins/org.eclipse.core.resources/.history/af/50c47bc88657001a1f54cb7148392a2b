package algospot;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;
import java.util.StringTokenizer;

public class Dictionary {
	
	static int n;
	static String[] words = new String[1001];
	static int[][] adj;
	
	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		int c = Integer.parseInt(br.readLine());
		
		for(int test=1; test<=c; test++) {
			n = Integer.parseInt(br.readLine());
			
			for(int i=0; i<n; i++) {
				StringTokenizer stk = new StringTokenizer(br.readLine());
				words[i] = stk.nextToken();
			}
			
			makeGraph();
		}
	}
	
	public static void makeGraph() {
		adj = new int[26][26];
		
		for(int j=1; j<n; j++) {
			int i = j-1;
			int len = Math.min(words[i].length(), words[j].length());
			
			// words[i]가 words[j]의 앞에 오는 이유를 찾는다.
			for(int k=0; k<len; k++) {
				if(words[i].charAt(k) != words[j].charAt(k)) {
					int a = words[i].charAt(k) - 'a';
					int b = words[j].charAt(k) - 'a';
					adj[a][b] = 1;
					break;
				}
			}
		}
	}
}
